c
y
m
d
c
start_date
date_parse(start_date)
c
prices.pluck(:date).uniq
prices.pluck(:date)
prices.uniq.pluck(:date)
prices
c
raw_result
c
(start_date..end_date).map(&:month)
(start_date..end_date).map(&:day)
(start_date..end_date).to_a
(start_date..end_date)
start_date
c
params
c
params
c
params
c
page.find('#room-grid-table').first('tr.room-type').first('.sellprice').text
page.find('#room-grid-table').first('tr.room-type').first('.room-name span').text
page.find('#room-grid-table').first('tr.room-type').first('.room-name span')
page.find('#room-grid-table').first('tr.room-type')
page.find('#room-grid-table').first('.tr.room-type')
page.find('#room-grid-table')
c
page.find('room-grid-table')
page.find('#room-grid-table')
page
c
page.html
page
c
agoda.hotels
agoda
c
HotelLink.delete_all
HotelLink.first
params[:hotel_id]
HotelLink.links_for_all_competitors(params[:hotel_id])
c
HotelLink.links_for_all_competitors(params[:hotel_id])
HotelLink.count
c
HotelLink.count
c
HotelLink.first
HotelLink.links_for_all_competitors(params[:hotel_id])
